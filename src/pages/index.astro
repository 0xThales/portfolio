---
import Layout from '@layouts/Layout.astro';
import Welcome from '@components/views/Welcome.astro';
import Built from '@components/views/Built.astro';
import Currently from '@components/views/Currently.astro';
import Me from '@components/views/Me.astro';
import Projects from '@components/views/Projects.astro';
import Random from '@components/views/Random.astro';

const commonClasses = "main-section contents"
---

<Layout>
	<section class={commonClasses} id="0"><Welcome /></section>
	<section class={commonClasses} id="1"><Me /></section>
  <section class={commonClasses} id="2"><Built /></section>
	<section class={commonClasses} id="3"><Currently /></section>
	<section class={commonClasses} id="4"><Projects /></section>
	<section class={commonClasses} id="5"><Random /></section>
</Layout>

<script>
  import { pageIndex, sectionCount } from '../store.js';
  const mainSections = document.querySelectorAll('.main-section')
  
  sectionCount.set(mainSections.length)
  
  pageIndex.subscribe(value => {
    mainSections.forEach(section => {
      section.classList.toggle("hidden", value !== +section.id)
    })
  })

</script>