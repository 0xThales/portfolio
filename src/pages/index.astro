---
import Layout from '../layouts/Layout.astro';
import Welcome from '../components/Welcome.astro';
import Me from '../components/Me.astro';
import Goof from '../components/Goof.astro';

const commonClasses = "main-section contents"
---

<Layout>
	<section class={commonClasses} id="0"><Welcome /></section>
	<section class={commonClasses} id="1"><Me /></section>
	<section class={commonClasses} id="2"><Goof /></section>
</Layout>

<script>
  import { pageIndex, sectionCount } from '../store.js';
  const mainSections = document.querySelectorAll('.main-section')
  
  sectionCount.set(mainSections.length)
  
  pageIndex.subscribe(value => {
    mainSections.forEach(section => {
      section.classList.toggle("hidden", value !== +section.id)
    })
  })

</script>